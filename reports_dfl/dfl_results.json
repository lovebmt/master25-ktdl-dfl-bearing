{
  "metadata": {
    "generated_at": "2025-11-22T20:30:04.850949",
    "architecture": "Decentralized Federated Learning (DFL)",
    "communication": "Peer-to-Peer (P2P)",
    "topology": "Ring",
    "aggregation": "Local at each peer"
  },
  "configuration": {
    "num_peers": 10,
    "num_rounds": 50,
    "local_epochs": 1,
    "learning_rate": 0.001,
    "batch_size": 128,
    "device": "cpu"
  },
  "data_distribution_analysis": {
    "balanced": {
      "peers": [
        {
          "peer_id": 0,
          "train_samples": 3276
        },
        {
          "peer_id": 1,
          "train_samples": 3276
        },
        {
          "peer_id": 2,
          "train_samples": 3276
        },
        {
          "peer_id": 3,
          "train_samples": 3276
        },
        {
          "peer_id": 4,
          "train_samples": 3276
        },
        {
          "peer_id": 5,
          "train_samples": 3276
        },
        {
          "peer_id": 6,
          "train_samples": 3276
        },
        {
          "peer_id": 7,
          "train_samples": 3276
        },
        {
          "peer_id": 8,
          "train_samples": 3276
        },
        {
          "peer_id": 9,
          "train_samples": 3276
        }
      ],
      "total_samples": 32760,
      "mean_samples": 3276.0,
      "std_samples": 0.0
    },
    "imbalanced": {
      "peers": [
        {
          "peer_id": 0,
          "train_samples": 9830,
          "percentage": 30.004273243391733
        },
        {
          "peer_id": 1,
          "train_samples": 1638,
          "percentage": 4.999694768329162
        },
        {
          "peer_id": 2,
          "train_samples": 3932,
          "percentage": 12.001709297356694
        },
        {
          "peer_id": 3,
          "train_samples": 3276,
          "percentage": 9.999389536658324
        },
        {
          "peer_id": 4,
          "train_samples": 2948,
          "percentage": 8.998229656309139
        },
        {
          "peer_id": 5,
          "train_samples": 2620,
          "percentage": 7.997069775959953
        },
        {
          "peer_id": 6,
          "train_samples": 2620,
          "percentage": 7.997069775959953
        },
        {
          "peer_id": 7,
          "train_samples": 2293,
          "percentage": 6.99896221231915
        },
        {
          "peer_id": 8,
          "train_samples": 3276,
          "percentage": 9.999389536658324
        },
        {
          "peer_id": 9,
          "train_samples": 329,
          "percentage": 1.0042121970575668
        }
      ],
      "total_samples": 32762,
      "mean_samples": 3276.2,
      "std_samples": 2380.916831810805
    }
  },
  "experiments": {
    "balanced": {
      "data_distribution": "balanced",
      "convergence": {
        "train_losses": {
          "max": 0.041148966547245015,
          "min": 0.0023916029053417825,
          "avg": 0.005044187644980131,
          "median": 0.0038440631608514545
        },
        "eval_losses": {
          "max": 0.03054395806310432,
          "min": 0.0024247233822409595,
          "avg": 0.004848227514918628,
          "median": 0.003976932409152921
        },
        "initial_train_loss": 0.041148966547245015,
        "final_train_loss": 0.0023916029053417825,
        "train_loss_reduction": 0.038757363641903235,
        "initial_eval_loss": 0.03054395806310432,
        "final_eval_loss": 0.0024247233822409595,
        "eval_loss_reduction": 0.02811923468086336
      },
      "individual_peers": [
        {
          "peer_id": 0,
          "train_losses": {
            "max": 0.061678750010637134,
            "min": 0.002292752445030671,
            "avg": 0.005370497865996396,
            "median": 0.0036763278991342164
          },
          "eval_losses": {
            "max": 0.04442621394991875,
            "min": 0.002676102000155619,
            "avg": 0.005564983642127898,
            "median": 0.004229323572612235
          },
          "final_train_loss": 0.002292752445030671,
          "final_eval_loss": 0.002676102000155619,
          "num_samples": 3276
        },
        {
          "peer_id": 1,
          "train_losses": {
            "max": 0.05253945405666645,
            "min": 0.002218362785732517,
            "avg": 0.005097112617312143,
            "median": 0.0036185149398918906
          },
          "eval_losses": {
            "max": 0.04044681095651218,
            "min": 0.0020113239463950905,
            "avg": 0.00433635886259643,
            "median": 0.003199893266095647
          },
          "final_train_loss": 0.002218362785732517,
          "final_eval_loss": 0.0020113239463950905,
          "num_samples": 3276
        },
        {
          "peer_id": 2,
          "train_losses": {
            "max": 0.035630664644906156,
            "min": 0.002766419264774483,
            "avg": 0.005520367908219879,
            "median": 0.004392633178772835
          },
          "eval_losses": {
            "max": 0.02158310849751745,
            "min": 0.002128774133910026,
            "avg": 0.004304597673139401,
            "median": 0.003489011898636818
          },
          "final_train_loss": 0.002766419264774483,
          "final_eval_loss": 0.002128774133910026,
          "num_samples": 3276
        },
        {
          "peer_id": 3,
          "train_losses": {
            "max": 0.04666378993827563,
            "min": 0.002516168008486812,
            "avg": 0.005518060469140227,
            "median": 0.004089042642870201
          },
          "eval_losses": {
            "max": 0.030920790508389473,
            "min": 0.001746899913996458,
            "avg": 0.0038372753936398245,
            "median": 0.002819720273172217
          },
          "final_train_loss": 0.002516168008486812,
          "final_eval_loss": 0.001746899913996458,
          "num_samples": 3276
        },
        {
          "peer_id": 4,
          "train_losses": {
            "max": 0.04122566388776669,
            "min": 0.0023436475760088516,
            "avg": 0.004878997532203077,
            "median": 0.0037903163599996613
          },
          "eval_losses": {
            "max": 0.035288101860455105,
            "min": 0.002305763923296971,
            "avg": 0.004846194305656744,
            "median": 0.003930936683900654
          },
          "final_train_loss": 0.0023436475760088516,
          "final_eval_loss": 0.002305763923296971,
          "num_samples": 3276
        },
        {
          "peer_id": 5,
          "train_losses": {
            "max": 0.017341859746151246,
            "min": 0.0023337898668474876,
            "avg": 0.004424167583302523,
            "median": 0.0037891306878569033
          },
          "eval_losses": {
            "max": 0.011697674569274698,
            "min": 0.00231727964377829,
            "avg": 0.004239872987382114,
            "median": 0.0038938658711101326
          },
          "final_train_loss": 0.0023337898668474876,
          "final_eval_loss": 0.00231727964377829,
          "num_samples": 3276
        },
        {
          "peer_id": 6,
          "train_losses": {
            "max": 0.054544614198116154,
            "min": 0.002472406423364121,
            "avg": 0.005439846774097532,
            "median": 0.00392165049785175
          },
          "eval_losses": {
            "max": 0.044153615300144465,
            "min": 0.0022954637450831278,
            "avg": 0.00510251770261675,
            "median": 0.003865827922709286
          },
          "final_train_loss": 0.002472406423364121,
          "final_eval_loss": 0.0022954637450831278,
          "num_samples": 3276
        },
        {
          "peer_id": 7,
          "train_losses": {
            "max": 0.04569071330703222,
            "min": 0.0023334625786027084,
            "avg": 0.004915166997816414,
            "median": 0.0036519837494079885
          },
          "eval_losses": {
            "max": 0.03683004741157804,
            "min": 0.002907474625057408,
            "avg": 0.005614103117758141,
            "median": 0.0047559851747272265
          },
          "final_train_loss": 0.0023334625786027084,
          "final_eval_loss": 0.002907474625057408,
          "num_samples": 3276
        },
        {
          "peer_id": 8,
          "train_losses": {
            "max": 0.02887595172684926,
            "min": 0.0021750365177957485,
            "avg": 0.004386258280137553,
            "median": 0.0035479865529431174
          },
          "eval_losses": {
            "max": 0.0199885828686612,
            "min": 0.0024849582031103118,
            "avg": 0.004524264071868467,
            "median": 0.003990054679369288
          },
          "final_train_loss": 0.0021750365177957485,
          "final_eval_loss": 0.0024849582031103118,
          "num_samples": 3276
        },
        {
          "peer_id": 9,
          "train_losses": {
            "max": 0.027298203956049222,
            "min": 0.0024639835867744228,
            "avg": 0.004891400421575571,
            "median": 0.003963045099785982
          },
          "eval_losses": {
            "max": 0.02010463470859187,
            "min": 0.0033731936876262936,
            "avg": 0.006112107392400503,
            "median": 0.0055947047491957036
          },
          "final_train_loss": 0.0024639835867744228,
          "final_eval_loss": 0.0033731936876262936,
          "num_samples": 3276
        }
      ],
      "anomaly_detection": {
        "threshold": 0.006296778563410044,
        "test_results": [
          {
            "name": "Normal Sample",
            "error": 0.0020022615790367126,
            "is_anomaly": false
          },
          {
            "name": "Scenario 1: Sensor Error",
            "error": 0.21289658546447754,
            "is_anomaly": true
          },
          {
            "name": "Scenario 2: High Vibration",
            "error": 0.028053171932697296,
            "is_anomaly": true
          },
          {
            "name": "Scenario 3: Negative Values",
            "error": 0.0078020039945840836,
            "is_anomaly": true
          }
        ]
      }
    },
    "imbalanced": {
      "data_distribution": "imbalanced",
      "convergence": {
        "train_losses": {
          "max": 0.039152779411202085,
          "min": 0.0028346038600501455,
          "avg": 0.005629773201597387,
          "median": 0.004109525367177975
        },
        "eval_losses": {
          "max": 0.029577032857064513,
          "min": 0.0027051715057764556,
          "avg": 0.00506449790934705,
          "median": 0.003929875101783269
        },
        "initial_train_loss": 0.039152779411202085,
        "final_train_loss": 0.002841794705930625,
        "train_loss_reduction": 0.03631098470527146,
        "initial_eval_loss": 0.029577032857064513,
        "final_eval_loss": 0.0027051715057764556,
        "eval_loss_reduction": 0.026871861351288058
      },
      "individual_peers": [
        {
          "peer_id": 0,
          "train_losses": {
            "max": 0.024138719351454216,
            "min": 0.002710640708637702,
            "avg": 0.00473094655926545,
            "median": 0.003860498919127533
          },
          "eval_losses": {
            "max": 0.006769491196610034,
            "min": 0.0028391958330757916,
            "avg": 0.004120924610993826,
            "median": 0.003904154623160139
          },
          "final_train_loss": 0.002710640708637702,
          "final_eval_loss": 0.0028391958330757916,
          "num_samples": 9830
        },
        {
          "peer_id": 1,
          "train_losses": {
            "max": 0.03801652817771985,
            "min": 0.00286658566731673,
            "avg": 0.005730079270254535,
            "median": 0.004114352390528298
          },
          "eval_losses": {
            "max": 0.03155831387266517,
            "min": 0.0023723685299046338,
            "avg": 0.004662536211544648,
            "median": 0.0032445309043396264
          },
          "final_train_loss": 0.00286658566731673,
          "final_eval_loss": 0.0023751934058964252,
          "num_samples": 1638
        },
        {
          "peer_id": 2,
          "train_losses": {
            "max": 0.04250413239482911,
            "min": 0.00265147250836655,
            "avg": 0.0051084222576971506,
            "median": 0.003806704542629661
          },
          "eval_losses": {
            "max": 0.031178832752630115,
            "min": 0.0022589326254092157,
            "avg": 0.0041122001732583156,
            "median": 0.0032646505278535187
          },
          "final_train_loss": 0.002657288129651739,
          "final_eval_loss": 0.0022589326254092157,
          "num_samples": 3932
        },
        {
          "peer_id": 3,
          "train_losses": {
            "max": 0.022449724806042817,
            "min": 0.002973141524797449,
            "avg": 0.005147933212216369,
            "median": 0.004264017620768685
          },
          "eval_losses": {
            "max": 0.013333682636065143,
            "min": 0.002468104607292584,
            "avg": 0.004106314189931644,
            "median": 0.0036131141407947454
          },
          "final_train_loss": 0.002978887650757455,
          "final_eval_loss": 0.002468104607292584,
          "num_samples": 3276
        },
        {
          "peer_id": 4,
          "train_losses": {
            "max": 0.02877407808167239,
            "min": 0.002511461488514518,
            "avg": 0.004630400915484642,
            "median": 0.003682025412369209
          },
          "eval_losses": {
            "max": 0.02359788802762826,
            "min": 0.003273700402739147,
            "avg": 0.005625834996656825,
            "median": 0.004854399516868094
          },
          "final_train_loss": 0.002556839210834975,
          "final_eval_loss": 0.003273700402739147,
          "num_samples": 2948
        },
        {
          "peer_id": 5,
          "train_losses": {
            "max": 0.043067842189754756,
            "min": 0.002907883520016358,
            "avg": 0.005524791156695712,
            "median": 0.0042333405498149144
          },
          "eval_losses": {
            "max": 0.03097640722990036,
            "min": 0.002431813220027834,
            "avg": 0.004409719568987687,
            "median": 0.003612491399204979
          },
          "final_train_loss": 0.002907883520016358,
          "final_eval_loss": 0.002431813220027834,
          "num_samples": 2620
        },
        {
          "peer_id": 6,
          "train_losses": {
            "max": 0.032460849111278854,
            "min": 0.002710173261307535,
            "avg": 0.005086284689161749,
            "median": 0.004004727089999332
          },
          "eval_losses": {
            "max": 0.02096676578124364,
            "min": 0.002111062523908913,
            "avg": 0.003975847798865288,
            "median": 0.003251443985694398
          },
          "final_train_loss": 0.0027129106733593204,
          "final_eval_loss": 0.002111062523908913,
          "num_samples": 2620
        },
        {
          "peer_id": 7,
          "train_losses": {
            "max": 0.029532749102347426,
            "min": 0.002611793512995872,
            "avg": 0.005280806448362354,
            "median": 0.0038107003848482333
          },
          "eval_losses": {
            "max": 0.020928885042667388,
            "min": 0.0023831923259422182,
            "avg": 0.004512904128525406,
            "median": 0.003489150432869792
          },
          "final_train_loss": 0.002611793512995872,
          "final_eval_loss": 0.0023839633679017423,
          "num_samples": 2293
        },
        {
          "peer_id": 8,
          "train_losses": {
            "max": 0.060801877425267145,
            "min": 0.002892888061558971,
            "avg": 0.006836943751236854,
            "median": 0.00428849469888239
          },
          "eval_losses": {
            "max": 0.049135438565696986,
            "min": 0.0036145845162017004,
            "avg": 0.007196330030980918,
            "median": 0.005163346267571407
          },
          "final_train_loss": 0.002892888061558971,
          "final_eval_loss": 0.0036145845162017004,
          "num_samples": 3276
        },
        {
          "peer_id": 9,
          "train_losses": {
            "max": 0.06978129347165425,
            "min": 0.0034346355435748896,
            "avg": 0.008221123755599061,
            "median": 0.005053078367685279
          },
          "eval_losses": {
            "max": 0.06732462346553802,
            "min": 0.003295164555311203,
            "avg": 0.007922367383725941,
            "median": 0.004906137241050601
          },
          "final_train_loss": 0.00352222992417713,
          "final_eval_loss": 0.003295164555311203,
          "num_samples": 329
        }
      ],
      "anomaly_detection": {
        "threshold": 0.007214249111711979,
        "test_results": [
          {
            "name": "Normal Sample",
            "error": 0.0016840386670082808,
            "is_anomaly": false
          },
          {
            "name": "Scenario 1: Sensor Error",
            "error": 0.18827994167804718,
            "is_anomaly": true
          },
          {
            "name": "Scenario 2: High Vibration",
            "error": 0.04092129319906235,
            "is_anomaly": true
          },
          {
            "name": "Scenario 3: Negative Values",
            "error": 0.010645430535078049,
            "is_anomaly": true
          }
        ]
      }
    }
  },
  "summary_table": {
    "balanced": {
      "experiment": "DFL Balanced",
      "final_train_loss": 0.0023916029053417825,
      "final_eval_loss": 0.0024247233822409595,
      "train_loss_reduction": 0.038757363641903235,
      "eval_loss_reduction": 0.02811923468086336
    },
    "imbalanced": {
      "experiment": "DFL Imbalanced",
      "final_train_loss": 0.002841794705930625,
      "final_eval_loss": 0.0027051715057764556,
      "train_loss_reduction": 0.03631098470527146,
      "eval_loss_reduction": 0.026871861351288058
    }
  },
  "generated_files": {
    "visualizations": [
      {
        "filename": "sensor_data_visualization.png",
        "description": "Visualizes 8 bearing sensor channels showing time-series data from the first 1000 samples. Displays raw sensor readings to understand data patterns and characteristics.",
        "purpose": "Data exploration and understanding sensor behavior"
      },
      {
        "filename": "mse_distribution_threshold.png",
        "description": "Shows MSE (Mean Squared Error) distribution histograms and cumulative distribution curves for both balanced and imbalanced models. Includes anomaly detection thresholds (95th percentile and Mean+2\u03c3).",
        "purpose": "Threshold determination for anomaly detection and error distribution analysis"
      },
      {
        "filename": "anomaly_detection_comparison.png",
        "description": "Compares anomaly detection performance between balanced and imbalanced models across 4 test scenarios: Normal, Sensor Error, High Vibration, and Negative Values. Shows reconstruction errors with threshold lines.",
        "purpose": "Evaluate model effectiveness in detecting bearing anomalies"
      },
      {
        "filename": "data_distribution_visualization.png",
        "description": "Displays training data distribution across 10 peers using bar charts and pie charts. Shows both IID (balanced) and Non-IID (imbalanced) distributions with sample counts and percentages.",
        "purpose": "Understand data partitioning strategy and imbalance levels across peers"
      },
      {
        "filename": "ring_topology.png",
        "description": "Illustrates the decentralized federated learning ring topology where each peer (P0-P9) connects to 2 neighbors. Blue arrows show P2P communication flow in a circular arrangement.",
        "purpose": "Visualize DFL network architecture and peer-to-peer communication structure"
      },
      {
        "filename": "peer_losses.png",
        "description": "Shows individual peer training and evaluation losses over 50 rounds for both balanced and imbalanced scenarios. Each peer's loss trajectory is plotted separately to observe convergence patterns.",
        "purpose": "Monitor individual peer performance and identify convergence issues"
      },
      {
        "filename": "experiments_comparison.png",
        "description": "Compares average training and evaluation losses between balanced and imbalanced experiments across all rounds. Shows convergence trends and final performance differences.",
        "purpose": "Compare overall model performance under different data distribution strategies"
      },
      {
        "filename": "final_loss_comparison.png",
        "description": "Bar chart comparing final training losses between DFL Balanced and DFL Imbalanced experiments. Shows exact loss values for quick performance comparison.",
        "purpose": "Quick visual summary of final model performance"
      }
    ],
    "reports": [
      "dfl_results.json"
    ]
  }
}